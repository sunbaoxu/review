<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>简单发布模式</title>
</head>
<body>
  <script>
    //	三个订阅者
    let sub1 = {updata(){console.log(1);}};
    let sub2 = {updata(){console.log(2);}};
    let sub3 = {updata(){console.log(3);}};

    //  一个主题发布器
    class Dep{
      constructor(){
        this.subs = [sub1,sub2,sub3];
      }
      notify(){
        this.subs.forEach((sub) => {
          sub.updata();
        })
      }
    }
    const dep = new Dep();
    //	一个发布者
    const pub = {
      publish(){
        dep.notify();
      }
    };
    pub.publish();
  </script>
</body>
</html>